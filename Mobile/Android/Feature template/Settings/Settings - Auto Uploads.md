#### Auto uploads in Settings

#### PR: 

Server(s): <br>
Device(s): <br>
Execution date: <br>
Tester:  <br>
Context: <br>


| Test Case | Steps | Expected Result | Result | Related Comment |
| :-------- | :---- | :-------------- | :----: | :------- |
|**View**||||||
| Fresh install | 1. Install app from scratch<br>2. In login view, click on `Settings` (no accounts added) | `Auto upload pictures` is not listed <br>`Auto upload videos` is not listed |  | 
| Sections Pictures| Enter Security > Auto upload pictures | Different sections available:<br>- Picture uploads<br>- Account to upload pictures<br>- Picture upload path<br>- Camera folder (required)<br>- Original files will be<br>-Last synchronization<br>Conditions: <br>- Upload via wifi<br>- Upload only when charging<br> Check in both orientations |  | 
| Sections Videos| Enter Security > Auto upload videos | Different sections available:<br>- Video uploads<br>- Account to upload videos<br>- Video upload path<br>- Camera folder (required)<br>- Original files will be<br>-Last synchronization<br>Conditions: <br>- Upload via wifi<br>- Upload only when charging<br> Check in both orientations |  | 
| Accounts removed | 1. Add at least one account to the app<br>2. Open `Settings`<br>3. Remove all accounts from app by using the Account Manager (reachable in sidebar) | 2. `Auto upload pictures` is listed <br>2. `Auto upload videos` is listed<br>3. Warning about removing account will empty the auto upload account<br>3. `Auto upload pictures` is not listed <br>3. `Auto upload videos` is not listed |  | 
| Accounts listed Pictures | 1. Add three accounts to the app<br>2. Open `Settings`<br>3. Enable `Picture uploads`<br>4. Click on `Account to upload pictures` | List of all attached accounts is displayed |  | 
| Accounts listed Videos | 1. Add three accounts to the app<br>2. Open `Settings`<br>3. Enable `Video uploads`<br>4. Click on `Account to upload videos` | List of all attached accounts is displayed |  | 
|**Notifications**|
| Pictures|  Enable `Picture Uploads`| After some minutes, a notification with message `Picture uploads source path is not valid anymore` raises up because no `Camera folder (required)` was set |  |  | |
| Videos |  Enable `Video Uploads`| After some minutes, a notification with message `Video uploads source path is not valid anymore` raises up because no `Camera folder (required)` was set |  |  | |
|**Auto uploads Pictures**|Preconditions:<br> 1. Enable `Picture Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app|||||
| Pictures upload | 1. Close the app<br>2. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were enqueued and uploaded in 15 minutes |  |  |
| Account | 1. With two (al least) accounts in device, click on `Account to upload pictures`<br>2. Select a different account to upload pictures<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes to the correct account|  |  |
| Path | 1. Click on `Picture upload path`<br>2. Select a different folder to upload pictures in the selected account<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes to the correct folder |  |  |
| Camera folder | 1. Install another camera app in the device<br>2. Click on `Picture upload path`<br>3. Click on `Camera folder`and select the folder from the newest installed camera app<br>4. Take pictures with the installed camera app and with the built-in camera app<br>5. Wait 15 minutes| Only pictures taken with the newest installed camera app are enqueued and then, uploaded |  |  |
| Original file kept | 1. Click on `Original file will be`<br>2. Select `kept in original folder`<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes.<br>Original files were not removed from device |  |  |
| Original file removed | 1. Click on `Original file will be`<br>2. Select `removed from original folder`<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes.<br>Original files were removed from device |  |  |
| Only wifi| 1. Enable `Upload pictures via wifi only`<br>2. Remove WiFi from device<br>3. Using mobile connection, take pictures with the camera app<br>4. Wait 15 minutes<br>5. Enable WiFi in device<br>6. Take some pictures<br>7. Wait 15 minutes | 4. Check in uploads view that pictures are enqueued but not uploaded because condition is not fulfilled<br>7. Pictures taken in steps 3. and 6. are enqueued |  
| When charging | 1. Enable `Upload pictures only when charging`<br>2. Assure device is not charging<br>3. Take pictures with the camera app<br>4. Wait 15 minutes<br>5. Plug charging wire to device in<br>6. Take some pictures<br>7. Wait 15 minutes | 4. Check in uploads view that pictures are enqueued but not uploaded because condition is not fulfilled<br>7. Pictures taken in steps 3. and 6. are enqueued  |  
| Both WiFi + charging conditions enabled | 1. Enable `Upload pictures only when charging` and `Upload pictures via wifi only`<br>2. Plug charging wire to device in<br>3. Enable WiFi in device<br>4. Take some pictures and wait 15 min<br>5. Remove charging wire<br>6. Take some pictures and wait 15 min<br>7. Plug charging wire and remove WiFi connection (mobile connection)<br>8. Take some pictures and wait 15 min<br>9. Enable `Upload pictures only when charging` and `Upload pictures via wifi only`  | 4. Pictures are enqueued and then, uploaded<br>6. Pictures are not enqueued because both conditions are not fulfilled<br>8. Pictures are not enqueued because both conditions are not fulfilled<br>9. Pictures are enqueued and then, uploaded |  
|**Auto uploads Videos**|Preconditions:<br> 1. Enable `Video Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app|||||
| Videos upload | 1. Close the app<br>2. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were enqueued and uploaded in 15 minutes |  |  |
| Account | 1. With two (al least) accounts in device, click on `Account to upload videos `<br>2. Select a different account to upload videos<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes to the correct account|  |  |
| Path | 1. Click on `Video upload path`<br>2. Select a different folder to upload videos in the selected account<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes to the correct folder |  |  |
| Camera folder | 1. Install another camera app in the device<br>2. Click on `Video upload path`<br>3. Click on `Camera folder`and select the folder from the newest installed camera app<br>4. Take videos with the installed camera app and with the built-in camera app<br>5. Wait 15 minutes| Only videos taken with the newest installed camera app are enqueued and then, uploaded |  |  |
| Original file kept | 1. Click on `Original file will be`<br>2. Select `kept in original folder`<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes.<br>Original files were not removed from device |  |  |
| Original file removed | 1. Click on `Original file will be`<br>2. Select `removed from original folder`<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes.<br>Original files were removed from device |  |  |
| Only wifi| 1. Enable `Upload videos via wifi only`<br>2. Remove WiFi from device<br>3. Using mobile connection, take videos with the camera app<br>4. Wait 15 minutes<br>5. Enable WiFi in device<br>6. Take some videos <br>7. Wait 15 minutes | 4. Videos are not enqueued because condition is not fulfilled<br>7. Videos taken in steps 3. and 6. are enqueued |  
| When charging | 1. Enable `Upload pictures only when charging`<br>2. Assure device is not charging<br>3. Take videos with the camera app<br>4. Wait 15 minutes<br>5. Plug charging wire to device in<br>6. Take some videos <br>7. Wait 15 minutes | 4. Videos are not enqueued because condition is not fulfilled<br>7. Videos taken in steps 3. and 6. are enqueued  |  
| Both WiFi + charging conditions enabled | 1. Enable `Upload videos only when charging` and `Upload videos via wifi only`<br>2. Plug charging wire to device in<br>3. Enable WiFi in device<br>4. Take some videos and wait 15 min<br>5. Remove charging wire<br>6. Take some videos and wait 15 min<br>7. Plug charging wire and remove WiFi connection (mobile connection)<br>8. Take some videos and wait 15 min<br>9. Enable `Upload videos only when charging` and `Upload videos via wifi only`  | 4. Videos are enqueued and then, uploaded<br>6. Videos are not enqueued because both conditions are not fulfilled<br>8. Videos are not enqueued because both conditions are not fulfilled<br>9. Videos are enqueued and then, uploaded |  
|**Errors**|  Preconditions:<br> 1. Enable `Video Uploads` or `Photo Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app
| Removed folder | 1. In file list, remove folder selected in `Picture upload path` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Removed folder is created again and contains the taken pictures/videos |  |  |
| Account disabled | 1. In server, disable login(oCIS) or disable account(oC10) that is selected in `Account to upload pictures/videos` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Error: `Connection error` |  |  |
| Account removed | 1. In server, remove account that is selected in `Account to upload pictures/videos` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Error: `Connection error` | Error: `Credentials error` |  |
| No permissions (oC10) | 1. In oC10 server, share a folder with another user, removing edit permissions<br>2. Sharee sets that folder as target for auto uploads | Not posible, folder without writing permissions is not selectable| | |
| Permissions removed (oC10) | 1. In oC10 server, share a folder with another user, grating all permissions<br>2. Sharee sets that folder as target for auto uploads<br>3. Sharing user revokes share permission (sharee can not upload anymore)<br>4. Take pictures/videos and wait 15 min | Error: `Permission error`| | |